(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[4],{103:function(e,t,a){"use strict";a(0);var c=a(2),n={small:{flex:"0 0 28px",height:"28px"},medium:{flex:"0 0 40px",height:"40px"},large:{flex:"0 0 60px",height:"60px"}};t.a=function(e){var t=e.imgSrc,a=void 0===t?"https://i.pravatar.cc/300":t,s=e.size,r=void 0===s?"medium":s;return Object(c.jsx)("div",{className:"avatar round",style:n[r],children:Object(c.jsx)("img",{className:"round",style:{padding:"1px"},src:a,alt:""})})}},104:function(e,t,a){"use strict";var c=a(17),n=a(37),s=(a(0),a(2)),r=["iconName","variant","type","size","color","className"];t.a=function(e){var t=e.iconName,a=e.variant,i=e.type,o=e.size,l=e.color,u=e.className,j=Object(n.a)(e,r),d=["btn"];return null===u||void 0===u||u.split(" ").forEach((function(e){return d.push(e)})),"clear"===a&&d.push("btn--nobg"),"large"===o&&d.push("btn--large"),Object(s.jsx)("button",Object(c.a)(Object(c.a)({},j),{},{type:i,className:d.join(" "),children:Object(s.jsx)("span",{style:{color:l},className:"material-icons-round",children:t})}))}},105:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var c=a(18),n=a(0),s=a.p+"static/media/search.ffb58015.svg",r=a(103),i=a(104),o=a(14),l=a(2);function u(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{type:"text",placeholder:"Search messenger",value:a,onChange:function(e){return r(e.target.value)}}),!a&&Object(l.jsx)("img",{src:s,alt:""})]})}var j=function(e){var t=e.providerData,a=e.setOpen,s=e.open,j=Object(n.useState)(!1),d=Object(c.a)(j,2),m=d[0],b=d[1],p=Object(o.c)(),h=(t||{}).photoURL;return Object(l.jsxs)("header",{className:"sidebar-header",children:[Object(l.jsxs)("div",{className:"sidebar-top",children:[Object(l.jsxs)("div",{className:"sidebar-top-left",children:[Object(l.jsx)(r.a,{imgSrc:h}),Object(l.jsx)("span",{children:"Chats"})]}),Object(l.jsxs)("div",{className:"sidebar-top-right",children:[Object(l.jsx)(i.a,{iconName:"more_horiz",title:"More"}),Object(l.jsx)(i.a,{iconName:m?"fullscreen_exit":"fullscreen",onClick:function(){var e=document.getElementById("root");document.fullscreenElement?(b(!1),document.exitFullscreen()):e.requestFullscreen().then((function(){return b(!0)})).catch((function(e){alert("Error attempting to enable full-screen mode: ".concat(e.message," (").concat(e.name,")"))}))}}),Object(l.jsx)(i.a,{iconName:"logout",title:"Signout",onClick:p.signout}),s&&Object(l.jsx)(i.a,{iconName:"arrow_back",color:"var(--primary)",onClick:function(){return a(!1)}})]})]}),Object(l.jsx)("div",{className:"sidebar-bottom",children:Object(l.jsx)(u,{})})]})},d=a(17),m=a(37),b=a(3),p=a(22);var h=function(e){var t={},a=Date.now()-e;t.seconds=Math.floor(a/1e3),t.minutes=Math.floor(t.seconds/60),t.hours=Math.floor(t.minutes/60),t.days=Math.floor(t.hours/24),t.weeks=Math.floor(t.days/7),t.months=Math.floor(t.weeks/4),t.years=Math.floor(t.months/12);var c="Just now";for(var n in t){if(!(t[n]>0))return c;c=t[n]+n[0]}},O=["msg"],v=function(e){var t,a=e.msg,s=Object(m.a)(e,O),i=Object(n.useState)(h(a.timestamp)),u=Object(c.a)(i,2),j=u[0],d=u[1],v=Object(b.g)(),f=Object(o.c)(),x=s.displayName,g=s.photoURL,N=s.to,y=s.setOpen;return Object(n.useEffect)((function(){d(h(a.timestamp));var e=setInterval((function(){d(h(a.timestamp))}),6e4);return function(){return clearInterval(e)}}),[a.timestamp]),Object(l.jsxs)(p.b,{onClick:function(){return y(!1)},to:N,className:N===v.pathname?"room-title__card active":"room-title__card",children:[Object(l.jsx)(r.a,{imgSrc:g,size:"large"}),Object(l.jsxs)("div",{className:"room-title__card-info",children:[Object(l.jsx)("p",{style:{fontWeight:"600"},children:x}),Object(l.jsxs)("div",{className:"last-msg",children:[Object(l.jsx)("span",{children:(null===(t=f.user)||void 0===t?void 0:t.uid)===(null===a||void 0===a?void 0:a.from)?"You: "+(null===a||void 0===a?void 0:a.content):null===a||void 0===a?void 0:a.content}),Object(l.jsx)("span",{children:j})]})]})]})},f=["uid"],x=function(e){var t=e.listData,a=e.setOpen;return Object(l.jsx)("div",{className:"room-title__list",children:null===t||void 0===t?void 0:t.map((function(e){var t=e.uid,c=Object(m.a)(e,f);return Object(l.jsx)(v,Object(d.a)(Object(d.a)({},c),{},{setOpen:a,to:"/home/t/"+t,uid:t}),t)}))})},g=a(38),N=(a(105),function(){var e,t=Object(n.useState)(!1),a=Object(c.a)(t,2),s=a[0],r=a[1],u=Object(o.c)(),d=Object(g.b)();return Object(n.useEffect)((function(){window.matchMedia("(max-width: 768px)").matches&&r(!0)}),[]),Object(l.jsxs)("div",{className:"sidebar",style:{transform:s&&"translateX(0px)"},children:[Object(l.jsx)(j,{open:s,setOpen:r,providerData:null===(e=u.user)||void 0===e?void 0:e.providerData[0]}),Object(l.jsx)(x,{setOpen:r,listData:d.data}),!s&&Object(l.jsx)(i.a,{className:"sidebar-open",type:"button",variant:"clear",size:"large",iconName:"menu",color:"var(--primary)",onClick:function(){return r(!0)}})]})});t.default=N}}]);